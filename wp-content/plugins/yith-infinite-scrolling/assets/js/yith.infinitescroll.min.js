!function(a,b,c){"use strict";a.fn.yit_infinitescroll=function(d){var e=a.extend({nextSelector:!1,navSelector:!1,itemSelector:!1,contentSelector:!1,maxPage:!1,loader:!1,is_shop:!1},d),f=!1,g=!1,h=a(e.nextSelector).attr("href");a(e.nextSelector).length&&a(e.navSelector).length&&a(e.itemSelector).length&&a(e.contentSelector).length?a(e.navSelector).hide():g=!0;var i=a(e.contentSelector).find(e.itemSelector).first(),j=i.nextUntil(".first",e.itemSelector).length+1,k=function(){var b=a(e.contentSelector).find(e.itemSelector).last();e.loader&&a(e.navSelector).after('<div class="yith-infs-loader">'+e.loader+"</div>"),f=!0,a.ajax({url:h,dataType:"html",cache:!1,success:function(d){var i=a(d),k=i.find(e.itemSelector),m=i.find(e.nextSelector),n=h;m.length?h=m.attr("href"):(g=!0,a(c).trigger("yith-infs-scroll-finished")),!b.hasClass("last")&&e.is_shop&&l(b,j,k),b.after(k),a(".yith-infs-loader").remove(),a(c).trigger("yith_infs_adding_elem",[k,n]),k.addClass("yith-infs-animated"),setTimeout(function(){f=!1,k.removeClass("yith-infs-animated"),a(c).trigger("yith_infs_added_elem",[k,n])},1e3)}})},l=function(b,c,d){var f=c-b.prevUntil(".last",e.itemSelector).length,g=0;d.each(function(){var b=a(this);g++,b.removeClass("first"),b.removeClass("last"),(g-f)%c===0?b.addClass("first"):(g-(f-1))%c===0&&b.addClass("last")})};a(b).on("scroll touchstart",function(){a(this).trigger("yith_infs_start")}),a(b).on("yith_infs_start",function(){var b=a(this),c=a(e.itemSelector).last();"undefined"!=typeof c&&!f&&!g&&b.scrollTop()+b.height()>=c.offset().top+c.height()&&k()})}}(jQuery,window,document);